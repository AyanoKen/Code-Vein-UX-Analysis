Code Vein – UX Study
-	By Kireet
-	
Code Vein is an action RPG by Bandai Namco Studios. Its set in a post-apocalyptic world with dark and stylised aesthetics reminiscent of anime and gothic fantasy. Its an anime themed souls-like game where the player assumes the role of a Revenant, a vampire like being with supernatural abilities. 
	One of the standout features of code vein is its character customization which is deep and highly flexible allowing players to design a detailed character. Combat is the other standout feature, as a souls-like game, the combat in code vein is fast paced and action oriented. Players have access to a large variety of weapon types, ability types and upgrades allowing them to mix and match their combat builds in countless ways. 

Research Objectives
	The objectives of this research are to evaluate the tutorial system, combat system and exploration.
1: Tutorial System
	Tutorials are an important aspect of most games. Especially when it comes to a souls like game where the core focus is its deep combat mechanics, having a proper tutorial becomes essential for players to manage to properly advance in the game without ending up getting stuck due to the difficulty. This paper does an in-depth analysis of the tutorial system of the game to study the good aspects and the negatives of Code Vein’s tutorial.
2: Combat System
	Combat is the core mechanic of Code Vein; the game features a deep combat system and wide number of controls each of which performs a different combat action. Each of the combat actions also have different damage and animation times. This makes using the right attack at the right time crucial. On top of the controls, the game also adds a layer of supernatural abilities players can use based on the “Blood codes” and “Blood veils”. The context of this paper will also analyse the combat system of Code vein. To reduce the scope of the paper, we will not be discussing animation cancels and more advanced combat tricks which might not be the mechanics that most players would be using.
3: Exploration:
	The second core of Code Vein is its storyline. The game is an open world exploration game with a linear storyline. It features cutscenes, animations, voice lines, flashy anime styled visual effects. This paper will also analyse the exploration aspect of Code Vein, discuss if the linear storyline makes the game feel less of an open world and the rewards players get for exploring the maps. 




Combat System
	Before we talk about the tutorial, we are going to explore the combat system of Code Vein to have a better analysis of the effectiveness of the tutorial in providing enough information regarding the game.
Weapons: 
Combat in Code Vein is fast paced, dynamic and revolves around a mix of melee, ranged attacks and abilities. Each player can always hold two weapons on him. One being the active weapon and the second one being the offhand weapon which can be swapped real-time. There are 5 weapon types in game, each with its own mechanics: Swords, Broadswords, Spears, Axes, Bayonets. For instance, charge attack with a sword is a slash, with a spear is a thrust and with a bayonet is a ranged gun shot. 
Blood Code:
	Blood codes are the central gameplay mechanic in Code Vein which defines a player’s skills, stats and overall gameplay style. It’s like jobs or classes in MMORPG games. Players unlock blood codes by progressing in the story, killing bosses and finding them in the map. Each blood code has gifts/skills that are associated with them which include offensive, defensive, support and healing skills. All these can be switched dynamically letting players customize their build and skills on the fly. 
Blood Veils:
	Blood veils are special equipment which give players stats, defensive scaling and some veil specific abilities to drain the blood of enemies and the primary source of getting mana to use gifts/skills. 
Focus and parry:
	Combat often revolves around managing a resource called Focus which is attained by performing specific actions and enhances player damage. Players also have the ability to parry attacks and dodge them by timing specific inputs at the right time.
The Good:
	The good thing about the combat system of the game is that along with giving players access to a souls like game with quick combat requiring fast inputs, the game also gives them the option of using abilities to help them with defeating tougher opponents. The deep combat customization also lets players cater their build to the playstyle that suits them the best, allowing players who like close combat to have fun as well as letting players who like ranged combat have fun. 
	The blood codes are also very balanced which lets players experiment with different builds, allowing for the combat to not feel repetitive and cause exhaustion. 

The bad:
	Input overload: As much as the deep inputs and combat mechanics make the game feel more dynamic, the number of inputs in the game can often make new players feel overwhelmed with the gameplay. In terms of UI, the game only has a single interface for all UI related actions. Almost all the volunteers who played the game for more than 5 hours have never used any of the more complex combat system instead of just using one or two skills and left mouse button. 
	Difficulty Spikes: The combat often ends up with unbalanced difficulty spikes in certain parts of the game. From playtesting, it was observed that players often get stuck at a particular location in the game. An example would be the boss fight in the prologue stage. The path leading up to the boss was easily cleared by players without much effort since they got used to the combat and did not require any dodging or parrying skills. The boss on the other hand needs the players to do a lot of dodging, parrying and switching of builds which ended up with players getting stuck for hours at the same fight. This can be fixed if the regular monsters in the path to the boss required a little bit of dodging skills which would have given players enough practice for having a decent chance at killing the boss.
	Inconsistent input: Players have also reported clunky movements in the gameplay such as being unable to dodge or do any other input action while stuck in one animation such as healing. It would be better if players were able to animation cancel or cancel an input such as healing when they notice that they need to dodge an enemy attack. This is also true in instances where players use specific blood veil related attacks where the player is stuck in animation for a few more seconds than the attack animation. 
	Lack of Visual cues: With a deep combat system, the game lacks visual cues for them apart from the animations. Players can imbed their weapons with attributes like poison/lightning/fire but there is no visual representation of how long the buffs last or if the enemy is still affected by the debuff or not. 
Critical:
	When players accidentally press Tab, they enter a UI for quick actions which disables all combat inputs. For a game with fast paced action where even a second delay can cause death, this feature caused a lot of deaths. The only way to get out of this UI is to click esc key. But when players are engrossed in the combat, they often do not notice that they have accidentally entered this UI, which is also small compared to the rest of the screen. A good fix could be to pause the game temporarily when players press the button to enter this UI. This would let players not get killed and identify that they have pressed a wrong button. 
 


Tutorial System
	Once players are done with character customization and selecting a name, the game starts with the tutorial section where an NPC tells the player about the game context and controls. The focus of the tutorial is around the combat system and its controls, and the context of the game and lore is given as a voice over.
	Throughout the early stages of the game, players are prompted with onscreen prompts and tooltips about the actions that can be done, regarding abilities and how to navigate the UI. 
The Bad:
Unexpected skipping of information: A lot of the tutorial instructions are provided in form of voice over and text. This can be skipped when players press the left mouse button, either accidentally or voluntarily. Once the instructions are skipped, it becomes difficult to understand what the task was to be done. 
 
Information Overload: The game tries to explain everything in a small tutorial stage. Considering how deep the combat system is, most players during play testing were not able to find out most of the combat details during the tutorial. This led them to only using their gifts and left mouse button for combat. 
Lack of Context: The tutorial fails to provide the context where each mechanism would be useful in or when a particular attack is to be used. This was another reason why players felt disconnected during the tutorial and failed to learn most of the gameplay mechanics. 
Another issue is that when player needs to perform an action in the menu as part of the tutorial, once the player does the action, the NPC proceeds to explain the next part of the tutorial. During this, the player is unable to close the menu which caused a lot of confusion among the test subjects and distracted them from what the NPC was saying about. 
 

Keybinding Issues: Keybinding changes do not get updated in the tutorial prompts when someone has changed the keybinding in the current or a previous save of the game. For example, in the below instance, a different player has changed the keybinding for the gifts buttons to number keys instead of F1, F2, etc. But in the prompt, it still asks the player to press the buttons which don’t work anymore since they have already been changed. Same is the case for the UI elements for the gifts, they don’t get updated when players change the keybindings. 
 
 
Exploration
	Exploration in Code vein follows more of an open world aesthetic than the map being linear. The game rewards players for exploring secret paths, going off track and returning to the maps after the story. A notably good aspect in terms of UI for exploration is the map showing where the player has recently walked through, with the help of dots, marking footprints of the player. This UX design lets players navigate through the almost maze-like maps with lesser difficulty. 

The Bad:
	Lack of proper navigation: Though the navigation is made easier with the help of footprints, it still does not cover the bad navigation in the game. The mini map cannot be expanded to view the whole map, so players often end up going in the same circles repeatedly until they find a new path. This becomes more cumbersome in more complex and maze-like maps. 
	Limited UI and HUB Customization: UI and HUB cannot be customized in the game, as discussed earlier in the tutorial section, when key bindings are changed, they are not reflected in the UI. The game has a cluttered HUD which cannot be customized or resized. During play testing, players have expressed about having options to change the transparency, size and layout of the HUD. 
	Accessibility Issues: The game may have accessibility issues for players with visual impairments or disabilities. The text is small, there is a lack of contrast between the environment and UI elements. A lot of indicators are also heavily reliant on colour-code which causes accessibility issues. 
	Inventory Management: The game has a very unintuitive inventory management. Whenever the inventory is full, items are sent to storage which is only accessible via mistles which are hard to access when already exploring a map. 
Review Analysis
	Natural Language Processing has been used to get insights about the game. From the game’s Steam page, around 4500 reviews have been collected using web scraping. The data is organized into a csv file and processing using few NLP algorithms to get the below analysis. 
Ratinganalysis.py:
	This was used to find out if there is any correlation between players recommending the game depending on the amount of hours they played the game for while writing the review. 
import csv
import math

# Function to read CSV file and calculate correlation coefficient
def calculate_correlation(csv_file):
    hours_played = []
    recommendations = []

    # Read CSV file and extract data
    with open(csv_file, 'r', encoding='utf-8') as file:
        reader = csv.reader(file)
        next(reader)  # Skip header row
        for row in reader:
            hours_played.append(float(row[1].replace(',', '')))
            recommendations.append(1 if row[0] == 'Recommended' else 0)

    # Calculate means
    mean_hours = sum(hours_played) / len(hours_played)
    mean_recommendations = sum(recommendations) / len(recommendations)

    # Calculate covariance and variances
    covariance = sum((x - mean_hours) * (y - mean_recommendations) for x, y in zip(hours_played, recommendations))
    var_hours = sum((x - mean_hours) ** 2 for x in hours_played)
    var_recommendations = sum((y - mean_recommendations) ** 2 for y in recommendations)

    # Calculate correlation coefficient

    print("Covariance is: " + str(covariance))
    print("var_hours is: " + str(var_hours))
    print("var_recommendations is : " + str(var_recommendations))

    correlation = covariance / math.sqrt(var_hours * var_recommendations)

    return correlation

correlation = calculate_correlation("output.csv")

print(correlation)

From the code, we got a correlation between number of hours and recommendation as 0.0453. It shows that there is a very slight positive correlation between the two variables. Players do tend to recommend the game the longer they play it for, but its only by a small value. 












MoodAnalysis.py:
	With the collected reviews, polarity score was extracted for each of them. Parts of speech tagging was used to identify phrases to find out what aspects the players had difficulties with. 
 
Most frequent difficulty was associated with the bosses which further supports the difficulty curve spiking suddenly. There were also a few associations made with the level being annoying which might be due to the navigation issues. 
References
https://steamcommunity.com/app/678960/reviews/?browsefilter=toprated&snr=1_5_100010_
https://github.com/AyanoKen/Code-Vein-UX-Analysis

